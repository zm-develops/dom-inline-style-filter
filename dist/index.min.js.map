{"version":3,"file":"index.min.js","sources":["../src/index.js"],"names":["contentElement","globalThis","document","body","documentElement","cssBlockCommentRegex","removeDefaultStylesTimeoutId","tagNameDefaultStyles","blockStoppers","Set","animationTimeKeys","boxModelOffsetKeys","regressionPropertySet","dominlinestylefilter","clone","options","debug","impl","strict","context","Context","Promise","stageCloneWith","then","collectTree","sortAscending","multiPassFilter","unstageClone","catch","bind","this","root","sibling","nextSibling","parent","parentElement","sandbox","self","tree","stack","pyramid","cutoff","depths","depth","declarations","bytes","delta","processed","Styles","element","inline","style","computed","getComputedStyle","execute","executor","let","result","value","Error","reason","exports","module","define","amd","sync","forEach","fn","e","hashes","createSandbox","iframe","createElementNS","hash","getRandomFourDigit","has","id","add","visibility","position","width","height","charsetToUse","characterSet","docType","doctype","docTypeDeclaration","escapeHTML","name","publicId","systemId","trim","appendChild","tryTechniques","Math","floor","random","unsafeText","div","createElement","innerText","innerHTML","charset","title","contentWindow","write","_","metaCharset","setAttribute","sandboxDocument","implementation","createHTMLDocument","sandboxHTML","head","outerHTML","contentDocument","resolve","reject","walker","createTreeWalker","NodeFilter","SHOW_ELEMENT","length","cssText","index","nextNode","push","getDepth","call","i","previous","previousElementSibling","subindex","parentIndex","slice","tick","pass","stripBlockComments","querySelectorAll","filterActiveMediaQueries","debugFilterAuthorInlineStyles","round","log2","filterAuthorInlineStyles","debugFilterActiveInlineStyles","filterActiveInlineStyles","roundTo3dp","n","timestamp","console","info","performance","now","getAttribute","test","replace","media","matchMedia","matches","removeChild","textContent","includes","mediaRuleMatch","mediaRuleRegex","exec","conditionText","styles","guardStyles","animations","defaultStyle","finalBytes","attributes","initialBytes","cacheAuthorStyleRegressionGuard","freezeStyleAnimations","parentComputedStyle","getDefaultStyle","tokenizeCssTextDeclarations","map","getCssTextProperty","sort","compareHyphenCount","spliceAuthorCssStyleDeclaration","unfreezeStyleAnimations","applyAuthorStyleRegressionGuard","removeAttribute","handleBoxModelOrigins","display","spliceActiveCssTextDeclaration","isDynamicElement","getPropertyValue","removeProperty","setProperty","inlineValue","computedValue","roundedValue","parseFloat","prop","sourceElement","tagHierarchy","computeTagHierarchy","tagKey","computeTagKey","defaultElement","constructElementHierachy","computeStyleForDefaults","destroyElementHierarchy","isArrayDelimiter","_e","a","hierarchy","filter","reverse","join","toLowerCase","sourceNode","tagNames","tagName","targetNode","parentNode","nodeType","Node","ELEMENT_NODE","childTagName","pop","childElement","sandboxWindow","sandboxElement","defaultComputedStyle","Array","from","targetElement","isQuoted","prevIndex","char","charAt","isSemicolon","isEol","declaration","substring","indexOf","b","isCustom","isVendored","split","parentComputedValue","defaultValue","isEmptyValue","findIndex","d","_d","isComputedValue","error","insertBefore","clearTimeout","setTimeout"],"mappings":"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"}